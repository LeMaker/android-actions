/*
 * module different macro
 *
 * Copyright (C) 2008 Renesas Solutions Corp.
 * Kuninori Morimoto <morimoto.kuninori@renesas.com>
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

#ifndef __MODULE_DIFF_H__
#define __MODULE_DIFF_H__

#include "./../module_comm/module_comm.h"


#define CAMERA_MODULE_NAME 		"hi257"
#define CAMERA_MODULE_PID		0xc4
#define VERSION(pid, ver) 		((pid<<8)|(ver&0xFF))

#define MODULE_I2C_REAL_ADDRESS  (0x40 >> 1)
#define MODULE_I2C_REG_ADDRESS		(0x40 >> 1)

#define I2C_REGS_WIDTH			1
#define I2C_DATA_WIDTH			1
//#define IS_FRONT_OR_REAR        0

#define DEFAULT_VSYNC_ACTIVE_LEVEL		V4L2_MBUS_VSYNC_ACTIVE_HIGH
#define DEFAULT_POWER_LINE_FREQUENCY	V4L2_CID_POWER_LINE_FREQUENCY_50HZ
#define DEFAULT_PCLK_SAMPLE_EDGE      V4L2_MBUS_PCLK_SAMPLE_FALLING




#define PID						0x04 /* Product ID Number */

#define OUTTO_SENSO_CLOCK 		24000000


#define MODULE_DEFAULT_WIDTH	WIDTH_SVGA
#define MODULE_DEFAULT_HEIGHT	HEIGHT_SVGA
#define MODULE_MAX_WIDTH		UXGA_WIDTH
#define MODULE_MAX_HEIGHT		UXGA_WIDTH

#define AHEAD_LINE_NUM			15    //10行 = 50次循环
#define DROP_NUM_CAPTURE		3
#define DROP_NUM_PREVIEW		3

static unsigned int frame_rate_svga[]   = {30,};

static unsigned int frame_rate_uxga[]   = {15,};


static const struct regval_list module_init_regs[] =
{
    {0x01, 0x01},//sleep on
	{0x01, 0x03},//sleep off
	{0x01, 0x01},//sleep on

	{0x03, 0x00},//Dummy 750us
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	                       
	{0x08, 0x00},
	{0x09, 0x77},	// pad strength = max
	{0x0a, 0x07},	// pad strength = max
	       
	{0x0e, 0x03},//PLL On
	{0x0e, 0x73},//PLLx2
	                  
	{0x03, 0x00},//Dummy 750us
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},

	///// PAGE 20 /////
	{0x03, 0x20},//page 20
	{0x10, 0x1c},//AE off 50hz

	///// PAGE 22 /////
	{0x03, 0x22},//page 22
	{0x10, 0x69},//AWB off

	///// Initial Start /////
	///// PAGE 0 Start /////
	{0x03, 0x00},//page 0
	{0x10, 0x91},//Pre off
	{0x11, 0x90},//Windowing On + 0Frame Skip
	{0x12, 0x24},//Rinsing edge 0x04 // Falling edge 0x00

	{0x20, 0x00},//Row H
	{0x21, 0x0a},//Row L
	{0x22, 0x00},//Col H
	{0x23, 0x0a},//Col L

	{0x24, 0x04},//Window height_H //= 1200
	{0x25, 0xb0},//Window height_L //
	{0x26, 0x06},//Window width_H  //= 1600
	{0x27, 0x40},//Window wight_L

	{0x40, 0x01},//Hblank_376
	{0x41, 0x78},
	{0x42, 0x00},//Vblank
	{0x43, 0x14},//Flick Stop

	{0x50, 0x00},//Test Pattern

	///// BLC /////
	{0x80, 0x2e},
	{0x81, 0x7e},
	{0x82, 0x90},
	{0x83, 0x00},
	{0x84, 0x0c},
	{0x85, 0x00},
	{0x86, 0x00},
	{0x87, 0x0f},
	{0x88, 0x34},
	{0x8a, 0x0b},
	{0x8e, 0x80},//Pga Blc Hold

	{0x90, 0x0a},//BLC_TIME_TH_ON
	{0x91, 0x0a},//BLC_TIME_TH_OFF
	{0x92, 0x98},//BLC_AG_TH_ON
	{0x93, 0x90},//BLC_AG_TH_OFF
	{0x96, 0xdc},//BLC Outdoor Th On
	{0x97, 0xfe},//BLC Outdoor Th Off
	{0x98, 0x38},

	//OutDoor  BLC
	{0x99, 0x43},//R,Gr,B,Gb Offset

	//Dark BLC
	{0xa0, 0x00},//R,Gr,B,Gb Offset

	//Normal BLC
	{0xa8, 0x43},//R,Gr,B,Gb Offset
	///// PAGE 0 END /////


	///// PAGE 2 START /////
	{0x03, 0x02},
	{0x10, 0x00},
	{0x13, 0x00},
	{0x14, 0x00},
	{0x18, 0xcc},
	{0x19, 0x01},// pmos switch on (for cfpn)
	{0x1A, 0x09},
	{0x1B, 0x00},
	{0x1C, 0x1a}, // for ncp
	{0x1D, 0x14}, // for ncp
	{0x1E, 0x30}, // for ncp
	{0x1F, 0x10},

	{0x20, 0x77},
	{0x21, 0xde},
	{0x22, 0xa7},
	{0x23, 0x30},
	{0x24, 0x77},
	{0x25, 0x10},
	{0x26, 0x10},
	{0x27, 0x3c},
	{0x2b, 0x80},
	{0x2c, 0x02},
	{0x2d, 0x58},
	{0x2e, 0xde},
	{0x2f, 0xa7},

	{0x30, 0x00},
	{0x31, 0x99},
	{0x32, 0x00},
	{0x33, 0x00},
	{0x34, 0x22},
	{0x36, 0x75},
	{0x38, 0x88},
	{0x39, 0x88},
	{0x3d, 0x03},
	{0x3f, 0x02},

	{0x49, 0x87},
	{0x4a, 0x10},

	{0x50, 0x21},
	{0x53, 0xb1},
	{0x54, 0x10},
	{0x55, 0x1c},// for ncp
	{0x56, 0x11},
	{0x5d, 0xa2},
	{0x5e, 0x5a},
	{0x5d, 0xa2},
	{0x5e, 0x5a},

	{0x60, 0x87},
	{0x61, 0x98},
	{0x62, 0x88},
	{0x63, 0x96},
	{0x64, 0x88},
	{0x65, 0x96},
	{0x67, 0x3f},
	{0x68, 0x3f},
	{0x69, 0x3f},

	{0x72, 0x89},
	{0x73, 0x95},
	{0x74, 0x89},
	{0x75, 0x95},
	{0x7C, 0x84},
	{0x7D, 0xaf},

	{0x80, 0x01},
	{0x81, 0x7a},
	{0x82, 0x13},
	{0x83, 0x24},
	{0x84, 0x78},
	{0x85, 0x7c},

	{0x92, 0x44},
	{0x93, 0x59},
	{0x94, 0x78},
	{0x95, 0x7c},

	{0xA0, 0x02},
	{0xA1, 0x74},
	{0xA4, 0x74},
	{0xA5, 0x02},
	{0xA8, 0x85},
	{0xA9, 0x8c},
	{0xAC, 0x10},
	{0xAD, 0x16},

	{0xB0, 0x99},
	{0xB1, 0xa3},
	{0xB4, 0x9b},
	{0xB5, 0xa2},
	{0xB8, 0x9b},
	{0xB9, 0x9f},
	{0xBC, 0x9b},
	{0xBD, 0x9f},

	{0xc4, 0x29},
	{0xc5, 0x40},
	{0xc6, 0x5c},
	{0xc7, 0x72},
	{0xc8, 0x2a},
	{0xc9, 0x3f},
	{0xcc, 0x5d},
	{0xcd, 0x71},

	{0xd0, 0x10},
	{0xd1, 0x14},
	{0xd2, 0x20},
	{0xd3, 0x00},
	{0xd4, 0x0a},//DCDC_TIME_TH_ON
	{0xd5, 0x0a},//DCDC_TIME_TH_OFF 
	{0xd6, 0x98},//DCDC_AG_TH_ON
	{0xd7, 0x90},//DCDC_AG_TH_OFF
	{0xdc, 0x00},
	{0xdd, 0xa3},
	{0xde, 0x00},
	{0xdf, 0x84},

	{0xe0, 0xa4},
	{0xe1, 0xa4},
	{0xe2, 0xa4},
	{0xe3, 0xa4},
	{0xe4, 0xa4},
	{0xe5, 0x01},
	{0xe8, 0x00},
	{0xe9, 0x00},
	{0xea, 0x77},

	{0xF0, 0x00},
	{0xF1, 0x00},
	{0xF2, 0x00},

	///// PAGE 2 END /////


	///// PAGE 10 START /////
	{0x03, 0x10},//page 10
	{0x10, 0x01},//S2D enable _ UYVY Order
	{0x11, 0x03},
	{0x12, 0xf0},
	{0x13, 0x03},

	{0x20, 0x00},
	{0x21, 0x40},
	{0x22, 0x0f},
	{0x24, 0x20},
	{0x25, 0x10},
	{0x26, 0x01},
	{0x27, 0x02},
	{0x28, 0x11},

	{0x40, 0x80},
	{0x41, 0x00}, //D-YOffset Th
	{0x42, 0x00}, //Cb Offset
	{0x43, 0x00}, //Cr Offset
	{0x44, 0x80},
	{0x45, 0x80},
	{0x46, 0xf0},
	{0x48, 0x88},
	{0x4a, 0x80},

	{0x50, 0xa0}, //D-YOffset AG

	{0x60, 0x4f},
	{0x61, 0x94}, //Sat B
	{0x62, 0x98}, //Sat R
	{0x63, 0x80}, //Auto-De Color

	{0x66, 0x42},
	{0x67, 0x22},

	{0x6a, 0x8c}, //White Protection Offset Dark/Indoor
	{0x74, 0x0c}, //White Protection Offset Outdoor
	{0x76, 0x01}, //White Protection Enable



	///// PAGE 11 START /////
	{0x03, 0x11},//page 11

	//LPF Auto Control
	{0x20, 0x00},
	{0x21, 0x00},
	{0x26, 0x58},// Double_AG
	{0x27, 0x52},// Double_AG
	{0x28, 0x0f},
	{0x29, 0x10},
	{0x2b, 0x30},
	{0x2c, 0x32},

	//GBGR
	{0x70, 0x2b},
	{0x74, 0x30},
	{0x75, 0x18},
	{0x76, 0x30},
	{0x77, 0xff},
	{0x78, 0xa0},
	{0x79, 0xff},//Dark GbGr Th
	{0x7a, 0x30},
	{0x7b, 0x20},
	{0x7c, 0xf4},//Dark Dy Th B[7:4]
	///// PAGE 11 END /////

	///// PAGE 12 START /////
	{0x03, 0x12},//page 11

	//YC2D
	{0x10, 0x03},//Y DPC Enable
	{0x11, 0x08},//
	{0x12, 0x10},//0x30 -> 0x10
	{0x20, 0x53},//Y_lpf_enable
	{0x21, 0x03},//C_lpf_enable_on
	{0x22, 0xe6},//YC2D_CrCbY_Dy

	{0x23, 0x14}, //Outdoor Dy Th
	{0x24, 0x20}, //Indoor Dy Th // For reso Limit 0x20
	{0x25, 0x30}, //Dark Dy Th

	//Outdoor LPF Flat
	{0x30, 0xff},//Y Hi Th
	{0x31, 0x00},//Y Lo Th
	{0x32, 0xf0},//Std Hi Th //Reso Improve Th Low //50
	{0x33, 0x00},//Std Lo Th
	{0x34, 0x00},//Median ratio

	//Indoor LPF Flat
	{0x35, 0xff},//Y Hi Th
	{0x36, 0x00},//Y Lo Th
	{0x37, 0xff},//Std Hi Th //Reso Improve Th Low //50
	{0x38, 0x00},//Std Lo Th
	{0x39, 0x00},//Median ratio

	//Dark LPF Flat
	{0x3a, 0xff},//Y Hi Th
	{0x3b, 0x00},//Y Lo Th
	{0x3c, 0x93},//Std Hi Th //Reso Improve Th Low //50
	{0x3d, 0x00},//Std Lo Th
	{0x3e, 0x00},//Median ratio

	//Outdoor Cindition
	{0x46, 0xa0},//Out Lum Hi
	{0x47, 0x40},//Out Lum Lo

	//Indoor Cindition
	{0x4c, 0xb0},//Indoor Lum Hi
	{0x4d, 0x60},//Indoor Lum Lo

	//Dark Cindition
	{0x52, 0xb0},//Dark Lum Hi
	{0x53, 0x80},//Dark Lum Lo

	//C-Filter
	{0x70, 0x10},//Outdoor(2:1) AWM Th Horizontal
	{0x71, 0x0a},//Outdoor(2:1) Diff Th Vertical
	{0x72, 0x10},//Indoor,Dark1 AWM Th Horizontal
	{0x73, 0x0a},//Indoor,Dark1 Diff Th Vertical
	{0x74, 0x14},//Dark(2:3) AWM Th Horizontal
	{0x75, 0x0c},//Dark(2:3) Diff Th Vertical

	//DPC
	{0x90, 0x3d},
	{0x91, 0x34},
	{0x99, 0x28},
	{0x9c, 0x14},
	{0x9d, 0x15},
	{0x9e, 0x28},
	{0x9f, 0x28},
	{0xb0, 0x0e},//Zipper noise Detault change (0x75->0x0e)
	{0xb8, 0x44},
	{0xb9, 0x15},
	///// PAGE 12 END /////

	///// PAGE 13 START /////
	{0x03, 0x13},//page 13

	{0x80, 0xfd},//Sharp2D enable _ YUYV Order 
	{0x81, 0x07},//Sharp2D Clip/Limit
	{0x82, 0x71}, //Sharp2D Filter 
	{0x83, 0x00},//Sharp2D Low Clip
	{0x85, 0x00},

	{0x92, 0x33},//Sharp2D Slop n/p
	{0x93, 0x30},//Sharp2D LClip
	{0x94, 0x02},//Sharp2D HiClip1 Th
	{0x95, 0xf0},//Sharp2D HiClip2 Th
	{0x96, 0x1e},//Sharp2D HiClip2 Resolution
	{0x97, 0x40},
	{0x98, 0x80},
	{0x99, 0x40},

	//Sharp Lclp
	{0xa2, 0x04},//Outdoor Lclip_N
	{0xa3, 0x05},//Outdoor Lclip_P
	{0xa4, 0x04},//Indoor Lclip_N 0x03 For reso Limit 0x0e
	{0xa5, 0x05},//Indoor Lclip_P 0x0f For reso Limit 0x0f
	{0xa6, 0x80},//Dark Lclip_N
	{0xa7, 0x80},//Dark Lclip_P

	//Outdoor Slope
	{0xb6, 0x28},//Lum negative Hi
	{0xb7, 0x20},//Lum negative middle
	{0xb8, 0x24},//Lum negative Low
	{0xb9, 0x28},//Lum postive Hi
	{0xba, 0x20},//Lum postive middle
	{0xbb, 0x24},//Lum postive Low

	//Indoor Slope
	{0xbc, 0x28},//Lum negative Hi
	{0xbd, 0x20},//Lum negative middle
	{0xbe, 0x24},//Lum negative Low
	{0xbf, 0x28},//Lum postive Hi
	{0xc0, 0x20},//Lum postive middle
	{0xc1, 0x24},//Lum postive Low

	//Dark Slope
	{0xc2, 0x18},//dark
	{0xc3, 0x18},//Lum negative middle
	{0xc4, 0x18},
	{0xc5, 0x18},
	{0xc6, 0x18},//Lum postive middle
	{0xc7, 0x18},
	///// PAGE 13 END /////

	///// PAGE 14 START /////
	{0x03, 0x14},//page 14
	{0x10, 0x01},

	{0x20, 0xA0},//X-Center
	{0x21, 0x80},//Y-Center

	{0x22, 0x1d},//LSC R 1b->15 20130125
	{0x23, 0x16},//LSC G
	{0x24, 0x14},//LSC B

	{0x25, 0xf0},//LSC Off
	{0x26, 0xf0},//LSC On
	///// PAGE 14 END /////

	/////// PAGE 15 START ///////
	{0x03, 0x15},//page 15
	{0x10, 0x21},
	{0x14, 0x44},	//CMCOFSGH 
	{0x15, 0x34},	//CMCOFSGM
	{0x16, 0x26},	//CMCOFSGL
	{0x17, 0x2f},	//CMC SIGN
	//CMC
	{0x30, 0xdd},
	{0x31, 0x68},
	{0x32, 0x0b},
	{0x33, 0x2c},
	{0x34, 0xce},
	{0x35, 0x22},
	{0x36, 0x04},
	{0x37, 0x38},
	{0x38, 0xbc},
	//CMC OFS
	{0x40, 0x90},
	{0x41, 0x16},
	{0x42, 0x86},
	{0x43, 0x01},
	{0x44, 0x10},
	{0x45, 0x91},
	{0x46, 0x82},
	{0x47, 0x9c},
	{0x48, 0x1d},
	//CMC POFS
	{0x50, 0x0d},
	{0x51, 0x91},
	{0x52, 0x04},
	{0x53, 0x07},
	{0x54, 0x19},
	{0x55, 0xa0},
	{0x56, 0x00},
	{0x57, 0x98},
	{0x58, 0x18},
	///// PAGE 15 END /////
	///// PAGE 16 START /////
	{0x03, 0x16},
	{0x10, 0x31},//GMA_CTL
	{0x18, 0x5a},//AG_ON
	{0x19, 0x58},//AG_OFF
	{0x1A, 0x0e},//TIME_ON
	{0x1B, 0x01},//TIME_OFF
	{0x1C, 0xdc},//OUT_ON
	{0x1D, 0xfe},//OUT_OFF
	//GMA
	{0x30, 0x00},
	{0x31, 0x0b},
	{0x32, 0x19},
	{0x33, 0x2e},
	{0x34, 0x5c},
	{0x35, 0x78},
	{0x36, 0x90},
	{0x37, 0xa1},
	{0x38, 0xaf},
	{0x39, 0xb9},
	{0x3a, 0xc1},
	{0x3b, 0xca},
	{0x3c, 0xd5},
	{0x3d, 0xde},
	{0x3e, 0xe6},
	{0x3f, 0xec},
	{0x40, 0xf4},
	{0x41, 0xfa},
	{0x42, 0xff},


	//Outdoor
	{0x50, 0x00},
	{0x51, 0x03},
	{0x52, 0x10},
	{0x53, 0x26},
	{0x54, 0x43},
	{0x55, 0x5d},
	{0x56, 0x79},
	{0x57, 0x8c},
	{0x58, 0x9f},
	{0x59, 0xaa},
	{0x5a, 0xb6},
	{0x5b, 0xc3},
	{0x5c, 0xce},
	{0x5d, 0xd9},
	{0x5e, 0xe1},
	{0x5f, 0xe9},
	{0x60, 0xf0},
	{0x61, 0xf4},
	{0x62, 0xf5},

	//Dark
	{0x70, 0x00},
	{0x71, 0x10},
	{0x72, 0x1c},
	{0x73, 0x2e},
	{0x74, 0x4e},
	{0x75, 0x6c},
	{0x76, 0x82},
	{0x77, 0x96},
	{0x78, 0xa7},
	{0x79, 0xb6},
	{0x7a, 0xc4},
	{0x7b, 0xd0},
	{0x7c, 0xda},
	{0x7d, 0xe2},
	{0x7e, 0xea},
	{0x7f, 0xf0},
	{0x80, 0xf6},
	{0x81, 0xfa},
	{0x82, 0xff},///// PAGE 16 END /////

	///// PAGE 17 START /////
	{0x03, 0x17}, //page 17
	{0xc1, 0x00},
	{0xc4, 0x4b},
	{0xc5, 0x3f},
	{0xc6, 0x02},
	{0xc7, 0x20},
	{0x03, 0x18},//page18
	{0x10, 0x00},
	{0x03, 0x19},//page19
	{0x10, 0x7f},
	{0x11, 0x7f},
	{0x12, 0x1e},
	{0x13, 0x32},
	{0x14, 0x1e},
	{0x15, 0x5e},
	{0x16, 0x0a},
	{0x17, 0xb8},
	{0x18, 0x1e},
	{0x19, 0xe6},
	{0x1a, 0x9e},
	{0x1b, 0x22},
	{0x1c, 0x9e},
	{0x1d, 0x5e},
	{0x1e, 0x3b},
	{0x1f, 0x30},//26
	{0x20, 0x40},//50
	{0x21, 0x40},//60
	{0x22, 0x2f},
	{0x23, 0x27},
	{0x24, 0x00},
	{0x25, 0x01},
	{0x26, 0x0e},
	{0x27, 0x04},
	{0x28, 0x00},
	{0x29, 0x8c},
	{0x2a, 0x40},
	{0x2b, 0x3f},
	{0x2c, 0x00},
	{0x2d, 0x00},
	{0x2e, 0x00},
	{0x2f, 0x00},
	{0x30, 0x00},
	{0x31, 0x00},
	{0x32, 0x00},
	{0x33, 0x00},
	{0x34, 0x00},
	{0x35, 0x00},
	{0x36, 0x00},
	{0x37, 0x00},
	{0x38, 0x00},
	{0x39, 0x00},
	{0x3a, 0x00},
	{0x3b, 0x00},
	{0x3c, 0x00},
	{0x3d, 0x00},
	{0x3e, 0x00},
	{0x3f, 0x00},
	{0x40, 0x00},
	{0x41, 0x00},
	{0x42, 0x00},
	{0x43, 0x00},
	{0x44, 0x00},
	{0x45, 0x00},
	{0x46, 0x00},
	{0x47, 0x00},
	{0x48, 0x00},
	{0x49, 0x00},
	{0x4a, 0x00},
	{0x4b, 0x00},
	{0x4c, 0x00},
	{0x4d, 0x00},
	{0x4e, 0x00},
	{0x4f, 0x00},
	{0x50, 0x00},
	{0x51, 0x00},
	{0x52, 0x00},
	{0x53, 0x10},
	{0x54, 0x00},
	{0x55, 0x01},
	{0x56, 0x1b},
	{0x57, 0x39},
	{0x58, 0x5a},
	{0x59, 0x80},
	{0x5a, 0xa6},
	{0x5b, 0xc1},
	{0x5c, 0xe8},
	{0x5d, 0x38},
	{0x5e, 0x3a},
	{0x5f, 0x3c},
	{0x60, 0x3f},
	{0x61, 0x3f},
	{0x62, 0x3f},
	{0x63, 0x3f},
	{0x64, 0x3f},
	{0x65, 0x00},
	{0x66, 0x00},
	{0x67, 0x00},
	{0x68, 0x00},
	{0x69, 0x00},
	{0x6a, 0xff},
	{0x6b, 0x00},
	{0x6c, 0xff}, //mcmc_lum_ctl1 sat hue offset
	{0x6d, 0x3f}, //mcmc_lum_ctl2 gain
	{0x6e, 0x00}, //mcmc_lum_ctl3 hue
	{0x6f, 0x00}, //mcmc_lum_ctl4 rgb offset
	{0x70, 0x00}, //mcmc_lum_ctl5 rgb scale

	{0x71, 0x3f}, //mcmc_lum_gain_wgt_th1 R1 magenta
	{0x72, 0x3f}, //mcmc_lum_gain_wgt_th2 R1
	{0x73, 0x3f}, //mcmc_lum_gain_wgt_th3 R1
	{0x74, 0x3f}, //mcmc_lum_gain_wgt_th4 R1
	{0x75, 0x30}, //mcmc_rg1_lum_sp1      R1
	{0x76, 0x50}, //mcmc_rg1_lum_sp2      R1
	{0x77, 0x80}, //mcmc_rg1_lum_sp3      R1
	{0x78, 0xb0}, //mcmc_rg1_lum_sp4      R1

	{0x79, 0x3f}, //mcmc_lum_gain_wgt_th1 R2 bright green
	{0x7a, 0x3f}, //mcmc_lum_gain_wgt_th2 R2
	{0x7b, 0x3f}, //mcmc_lum_gain_wgt_th3 R2
	{0x7c, 0x3f}, //mcmc_lum_gain_wgt_th4 R2
	{0x7d, 0x28}, //mcmc_rg2_lum_sp1      R2
	{0x7e, 0x50},//mcmc_rg2_lum_sp2      R2
	{0x7f, 0x80},//mcmc_rg2_lum_sp3      R2
	{0x80, 0xb0},//mcmc_rg2_lum_sp4      R2

	{0x81, 0x28},//mcmc_lum_gain_wgt_th1 R3 dark green
	{0x82, 0x3f},//mcmc_lum_gain_wgt_th2 R3
	{0x83, 0x3f},//mcmc_lum_gain_wgt_th3 R3
	{0x84, 0x3f},//mcmc_lum_gain_wgt_th4 R3
	{0x85, 0x28},//mcmc_rg3_lum_sp1      R3
	{0x86, 0x50},//mcmc_rg3_lum_sp2      R3
	{0x87, 0x80},//mcmc_rg3_lum_sp3      R3
	{0x88, 0xb0},//mcmc_rg3_lum_sp4      R3

	{0x89, 0x1a},//mcmc_lum_gain_wgt_th1 R4 skin
	{0x8a, 0x28},//mcmc_lum_gain_wgt_th2 R4
	{0x8b, 0x3f},//mcmc_lum_gain_wgt_th3 R4
	{0x8c, 0x3f},//mcmc_lum_gain_wgt_th4 R4
	{0x8d, 0x10},//mcmc_rg3_lum_sp1      R4
	{0x8e, 0x30},//mcmc_rg3_lum_sp2      R4
	{0x8f, 0x60},//mcmc_rg3_lum_sp3      R4
	{0x90, 0x90},//mcmc_rg3_lum_sp4      R4

	{0x91, 0x1a},//mcmc_rg5_gain_wgt_th1 R5 cyan
	{0x92, 0x28},//mcmc_rg5_gain_wgt_th2 R5
	{0x93, 0x3f},//mcmc_rg5_gain_wgt_th3 R5
	{0x94, 0x3f},//mcmc_rg5_gain_wgt_th4 R5
	{0x95, 0x28},//mcmc_rg5_lum_sp1      R5
	{0x96, 0x50},//mcmc_rg5_lum_sp2      R5
	{0x97, 0x80},//mcmc_rg5_lum_sp3      R5
	{0x98, 0xb0},//mcmc_rg5_lum_sp4      R5

	{0x99, 0x1a},//mcmc_rg6_gain_wgt_th1 R6 blue
	{0x9a, 0x28},//mcmc_rg6_gain_wgt_th2 R6
	{0x9b, 0x3f},//mcmc_rg6_gain_wgt_th3 R6
	{0x9c, 0x3f},//mcmc_rg6_gain_wgt_th4 R6
	{0x9d, 0x28},//mcmc_rg6_lum_sp1      R6
	{0x9e, 0x50},//mcmc_rg6_lum_sp2      R6
	{0x9f, 0x80},//mcmc_rg6_lum_sp3      R6
	{0xa0, 0xb0},//mcmc_rg6_lum_sp4      R6

	{0xa2, 0x00},
	{0xe5, 0x80}, //add 20120709 Bit[7] On MCMC --> YC2D_LPF

	/////// PAGE 20 START ///////
	{0x03, 0x20},
	{0x11, 0x1c},
	{0x18, 0x30},
	{0x20, 0x25},//8x8 Ae weight 0~7 Outdoor / Weight Outdoor On B[5]
	{0x21, 0x30},
	{0x22, 0x10},
	{0x23, 0x00},

	{0x28, 0xa7},
	{0x29, 0x0d},
	{0x2a, 0xff},
	{0x2b, 0x34}, //Adaptive Off,1/100 Flicker

	{0x2c, 0x83},//AE After CI
	{0x2d, 0x03},
	{0x2e, 0x13},
	{0x2f, 0x0b},

	{0x30, 0x78},
	{0x31, 0xd7},
	{0x32, 0x10},
	{0x33, 0x2e},
	{0x34, 0x20},
	{0x35, 0xd4},
	{0x36, 0xfe},
	{0x37, 0x32},
	{0x38, 0x04},
	{0x39, 0x22},
	{0x3a, 0xde},
	{0x3b, 0x22},
	{0x3c, 0xde},
	{0x3d, 0xe1},

	{0x50, 0x45},
	{0x51, 0x88},

	{0x56, 0x1f},// for tracking
	{0x57, 0xa6},// for tracking
	{0x58, 0x1a},// for tracking
	{0x59, 0x7a},// for tracking 

	{0x5a, 0x04},
	{0x5b, 0x04},

	{0x5e, 0xc7},
	{0x5f, 0x95},

	{0x62, 0x10},
	{0x63, 0xc0},
	{0x64, 0x10},
	{0x65, 0x8a},
	{0x66, 0x58},
	{0x67, 0x58},

	{0x70, 0x48}, //6c
	{0x71, 0x80}, //81(+4),89(-4)

	{0x76, 0x32},
	{0x77, 0xa1},
	{0x78, 0x22}, //24
	{0x79, 0x35}, // Y Target 70 => 25, 72 => 26 //30jacky
	{0x7a, 0x23}, //23
	{0x7b, 0x22}, //22
	{0x7d, 0x23},

	{0x83, 0x0a}, //EXP Normal 9.09 fps 
	{0x84, 0x12}, 
	{0x85, 0x20}, 
	{0x86, 0x01}, //EXPMin 12000.00 fps
	{0x87, 0xf4}, 
	{0x88, 0x09}, //EXP Max 60hz 9.23 fps 
	{0x89, 0xeb}, 
	{0x8a, 0x10}, 
	{0xa5, 0x0a}, //EXP Max 50hz 9.09 fps 
	{0xa6, 0x12}, 
	{0xa7, 0x20}, 
	{0x8B, 0xea}, //EXP100 
	{0x8C, 0x60}, 
	{0x8D, 0xc3}, //EXP120 
	{0x8E, 0x50}, 
	{0x9c, 0x1b}, //EXP Limit 857.14 fps 
	{0x9d, 0x58}, 
	{0x9e, 0x01}, //EXP Unit 
	{0x9f, 0xf4}, 
	{0xa3, 0x00}, //Outdoor Int 
	{0xa4, 0xc3}, 

	{0x9c, 0x0f},//EXP Limit 2155.17 fps
	{0x9d, 0xa0},
	{0x9e, 0x01},//EXP Unit
	{0x9f, 0xf4},

	{0xb0, 0x15},
	{0xb1, 0x14},
	{0xb2, 0x80},
	{0xb3, 0x15},
	{0xb4, 0x16},
	{0xb5, 0x3c},
	{0xb6, 0x29},
	{0xb7, 0x23},
	{0xb8, 0x20},
	{0xb9, 0x1e},
	{0xba, 0x1c},
	{0xbb, 0x1b},
	{0xbc, 0x1b},
	{0xbd, 0x1a},

	{0xc0, 0x10},
	{0xc1, 0x40},
	{0xc2, 0x40},
	{0xc3, 0x40},
	{0xc4, 0x06},

	{0xc8, 0x80},
	{0xc9, 0x80},
	///// PAGE 20 END /////

	///// PAGE 21 START /////
	{0x03, 0x21},//page 21

	//Indoor Weight
	{0x20, 0x11},
	{0x21, 0x11},
	{0x22, 0x11},
	{0x23, 0x11},
	{0x24, 0x14},
	{0x25, 0x44},
	{0x26, 0x44},
	{0x27, 0x41},
	{0x28, 0x14},
	{0x29, 0x44},
	{0x2a, 0x44},
	{0x2b, 0x41},
	{0x2c, 0x14},
	{0x2d, 0x47},
	{0x2e, 0x74},
	{0x2f, 0x41},
	{0x30, 0x14},
	{0x31, 0x47},
	{0x32, 0x74},
	{0x33, 0x41},
	{0x34, 0x14},
	{0x35, 0x44},
	{0x36, 0x44},
	{0x37, 0x41},
	{0x38, 0x14},
	{0x39, 0x44},
	{0x3a, 0x44},
	{0x3b, 0x41},
	{0x3c, 0x11},
	{0x3d, 0x11},
	{0x3e, 0x11},
	{0x3f, 0x11},

	//Outdoor Weight
	{0x40, 0x11},
	{0x41, 0x11},
	{0x42, 0x11},
	{0x43, 0x11},
	{0x44, 0x14},
	{0x45, 0x44},
	{0x46, 0x44},
	{0x47, 0x41},
	{0x48, 0x14},
	{0x49, 0x44},
	{0x4a, 0x44},
	{0x4b, 0x41},
	{0x4c, 0x14},
	{0x4d, 0x47},
	{0x4e, 0x74},
	{0x4f, 0x41},
	{0x50, 0x14},
	{0x51, 0x47},
	{0x52, 0x74},
	{0x53, 0x41},
	{0x54, 0x14},
	{0x55, 0x44},
	{0x56, 0x44},
	{0x57, 0x41},
	{0x58, 0x14},
	{0x59, 0x44},
	{0x5a, 0x44},
	{0x5b, 0x41},
	{0x5c, 0x11},
	{0x5d, 0x11},
	{0x5e, 0x11},
	{0x5f, 0x11},


	///// PAGE 22 START /////
	{0x03, 0x22}, //page 22
	{0x10, 0xfd},
	{0x11, 0x2e},
	{0x19, 0x00},
	{0x20, 0x30}, //For AWB Speed
	{0x21, 0x80},
	{0x22, 0x00},
	{0x23, 0x00},
	{0x24, 0x01},
	{0x25, 0x4f}, //2013-09-13 AWB Hunting

	{0x30, 0x80},
	{0x31, 0x81},
	{0x38, 0x11},
	{0x39, 0x34},
	{0x40, 0xe4}, //Stb Yth
	{0x41, 0x33}, //Stb cdiff
	{0x42, 0x22}, //Stb csum
	{0x43, 0xf3}, //Unstb Yth
	{0x44, 0x55}, //Unstb cdiff
	{0x45, 0x33}, //Unstb csum
	{0x46, 0x00},
	{0x47, 0x09}, //2013-09-13 AWB Hunting
	{0x48, 0x00}, //2013-09-13 AWB Hunting
	{0x49, 0x0a},

	{0x60, 0x04},
	{0x61, 0xc4},
	{0x62, 0x04},
	{0x63, 0x92},
	{0x66, 0x04},
	{0x67, 0xc4},
	{0x68, 0x04},
	{0x69, 0x92},

	{0x80, 0x36},
	{0x81, 0x20},
	{0x82, 0x2a},

	{0x83, 0x52},
	{0x84, 0x10},
	{0x85, 0x5f},
	{0x86, 0x27},

	{0x87, 0x44},
	{0x88, 0x30},
	{0x89, 0x2c},
	{0x8a, 0x18},

	{0x8b, 0x3b},
	{0x8c, 0x32},
	{0x8d, 0x2a},
	{0x8e, 0x1b},

	{0x8f, 0x4d},
	{0x90, 0x4a},
	{0x91, 0x45},
	{0x92, 0x3f},
	{0x93, 0x38},
	{0x94, 0x31},
	{0x95, 0x27},
	{0x96, 0x1d},
	{0x97, 0x13},
	{0x98, 0x12},
	{0x99, 0x11},
	{0x9a, 0x10},

	{0x9b, 0xaa},
	{0x9c, 0xaa},
	{0x9d, 0x48},
	{0x9e, 0x38},
	{0x9f, 0x30},

	{0xa0, 0x70},
	{0xa1, 0x54},
	{0xa2, 0x6f},
	{0xa3, 0xff},

	{0xa4, 0x14}, //1536fps
	{0xa5, 0x2c}, //698fps
	{0xa6, 0xcf}, //148fps

	{0xad, 0x2e},
	{0xae, 0x28},

	{0xaf, 0x18}, //Low temp Rgain
	{0xb0, 0x16}, //Low temp Rgain

	{0xb1, 0x08},
	{0xb4, 0xbf}, //For Tracking AWB Weight
	{0xb8, 0x5d}, //(0+,1-)High Cb , (0+,1-)Low Cr
	{0xb9, 0xb0},
	/////// PAGE 22 END ///////

	/////// PAGE 20 ///////
	{0x03, 0x20},
	{0x10, 0x9c},//AE On 50hz

	/////// PAGE 22 ///////
	{0x03, 0x22},
	{0x10, 0xe9},//AWB On

	/////// PAGE 0 ///////
	{0x03, 0x00},
	{0x0e, 0x03},
	{0x0e, 0x73},

	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},
	{0x03, 0x00},

	{0x03, 0x00},
	{0x01, 0x00},

	//{0x01, 0xf8}, // Sleep Off
    ENDMARKER,
};



/* 800*600: SVGA */
static const struct regval_list module_svga_regs[] = 
{
	
	{0x03, 0x00},
	{0x10, 0x10},
	{0x12, 0x24},

	{0x20, 0x00}, 
	{0x21, 0x0a},
	{0x22, 0x00},
	{0x23, 0x0a},

	{0x40, 0x01},//Hblank_376
	{0x41, 0x78},
	{0x42, 0x00},//Vblank
	{0x43, 0x14},//Flick Stop

	{0x03, 0x20},//page 20
	
	{0x86, 0x01},//EXPMin 17241.38 fps
	{0x87, 0xf4},

	
	{0x8B, 0xea},//EXP100
	{0x8C, 0x60},

	{0x8D, 0xc3},//EXP120
	{0x8E, 0x50},

	{0x9c, 0x0f},//EXP Limit 2155.17 fps
	{0x9d, 0xa0},
	{0x9e, 0x01},//EXP Unit
	{0x9f, 0xf4},
	ENDMARKER,
};




/* 1600*1200: UXGA */
static const struct regval_list module_uxga_regs[] = 
{
	{0x03, 0x00},
	{0x10, 0x00},
	{0x12, 0x24},

	{0x20, 0x00}, 
	{0x21, 0x0a}, 
	{0x22, 0x00}, 
	{0x23, 0x0a}, 
	{0x24, 0x04}, 
	{0x25, 0xb0}, 
	{0x26, 0x06}, 
	{0x27, 0x40}, 

	{0x40, 0x01},//Hblank_376
	{0x41, 0x78},
	{0x42, 0x00},//Vblank
	{0x43, 0x14},//Flick Stop

	{0x03, 0x20},//page 20
	
	{0x86, 0x01},//EXPMin 17241.38 fps
	{0x87, 0xf4},

	
	{0x8B, 0xea},//EXP100
	{0x8C, 0x60},

	{0x8D, 0xc3},//EXP120
	{0x8E, 0x50},

	{0x9c, 0x0f},//EXP Limit 2155.17 fps
	{0x9d, 0xa0},
	{0x9e, 0x01},//EXP Unit
	{0x9f, 0xf4},
	ENDMARKER,
};




/* 800*600 */
static struct camera_module_win_size module_win_svga = {
	.name             = "SVGA",
	.width            = WIDTH_SVGA,
	.height           = HEIGHT_SVGA,
	.win_regs         = module_svga_regs,
	.frame_rate_array = frame_rate_svga,
	.capture_only     = 0,
};

/* 1600*1200 */
static struct camera_module_win_size module_win_uxga = {
	.name             = "UXGA",
	.width            = WIDTH_UXGA,
	.height           = HEIGHT_UXGA,
	.win_regs         = module_uxga_regs,
	.frame_rate_array = frame_rate_uxga,
	.capture_only     = 1,
};

static struct camera_module_win_size *module_win_list[] = {
	&module_win_svga,
	&module_win_uxga,
};

static struct regval_list module_whitebance_auto_regs[]=
{
	{0x03, 0x22},			
	{0x11, 0x2e},				
			
	{0x83, 0x5e},
	{0x84, 0x1e},
	{0x85, 0x5e},
	{0x86, 0x22},	
	ENDMARKER,
};

/* Cloudy Colour Temperature : 6500K - 8000K  */
static struct regval_list module_whitebance_cloudy_regs[]=
{
	{0x03, 0x22},
	{0x11, 0x28},
	{0x80, 0x71},
	{0x82, 0x2b},
	{0x83, 0x72},
	{0x84, 0x70},
	{0x85, 0x2b},
	{0x86, 0x28},
	ENDMARKER,
};

/* ClearDay Colour Temperature : 5000K - 6500K  */
static struct regval_list module_whitebance_sunny_regs[]=
{
	{0x03, 0x22},
	{0x11, 0x28},		  
	{0x80, 0x59},
	{0x82, 0x29},
	{0x83, 0x60},
	{0x84, 0x50},
	{0x85, 0x2f},
	{0x86, 0x23},
    ENDMARKER,
};

/* Office Colour Temperature : 3500K - 5000K ,荧光灯 */
static struct regval_list module_whitebance_fluorescent_regs[]=
{
	{0x03, 0x22},
	{0x11, 0x28},
	{0x80, 0x41},
	{0x82, 0x42},
	{0x83, 0x44},
	{0x84, 0x34},
	{0x85, 0x46},
	{0x86, 0x3a},
    ENDMARKER,
};

/* Home Colour Temperature : 2500K - 3500K ，白炽灯 */
static struct regval_list module_whitebance_incandescent_regs[]=
{
	{0x03, 0x22},
	{0x11, 0x28},		  
	{0x80, 0x29},
	{0x82, 0x54},
	{0x83, 0x2e},
	{0x84, 0x23},
	{0x85, 0x58},
	{0x86, 0x4f},
	ENDMARKER,
};


static struct regval_list module_scene_auto_regs[] =
{
	{0x03, 0x10},
	{0x40, 0x80},
	
	{0x03, 0x20},//page 20
	{0x10, 0x1c},//AE ON
	//{0x18, 0x38},

    //{0x83, 0x02}, //EXP Normal 33.33 fps 
	//{0x84, 0xbf}, 
	//{0x85, 0x20}, 

	{0x88, 0x09}, //EXP Max 60hz 9.23 fps 
	{0x89, 0xeb}, 
	{0x8a, 0x10}, 
	{0xa5, 0x0a}, //EXP Max 50hz 9.09 fps 
	{0xa6, 0x12}, 
	{0xa7, 0x20}, 

	{0x03, 0x20},//page 20
	{0x10, 0x9c},//AE ON
	ENDMARKER,
};

static struct regval_list module_scene_night_regs[] =
{	
    {0x03, 0x10},
	{0x40, 0x20},

	{0x03, 0x20},//page 20
	{0x10, 0x1c},//AE ON
	//{0x18, 0x38},

    //{0x83, 0x02}, //EXP Normal 33.33 fps 
	//{0x84, 0xbf}, 
	//{0x85, 0x20}, 

	{0x88, 0x09}, //EXP Max 60hz 9.23 fps 
	{0x89, 0xeb}, 
	{0x8a, 0x10}, 
	{0xa5, 0x0a}, //EXP Max 50hz 9.09 fps 
	{0xa6, 0x12}, 
	{0xa7, 0x20}, 

	{0x03, 0x20},//page 20
	{0x10, 0x9c},//AE ON
	ENDMARKER,
};


/*
 * The exposure target setttings
 */
static struct regval_list module_exp_comp_neg4_regs[] = {
	{0x03,0x20},
	{0x70,0x12},
	ENDMARKER,
};

static struct regval_list module_exp_comp_neg3_regs[] = {
	{0x03,0x20},
	{0x70,0x2a},
	ENDMARKER,
};

static struct regval_list module_exp_comp_neg2_regs[] = {
	{0x03,0x20},
	{0x70,0x32},
	ENDMARKER,
};

static struct regval_list module_exp_comp_neg1_regs[] = {
	{0x03,0x20},
	{0x70,0x3a},
	ENDMARKER,
};

static struct regval_list module_exp_comp_zero_regs[] = {
	{0x03,0x20},
	{0x70,0x4a},
	ENDMARKER,
};

static struct regval_list module_exp_comp_pos1_regs[] = {
	{0x03,0x20},
	{0x70,0x4a},
	ENDMARKER,
};

static struct regval_list module_exp_comp_pos2_regs[] = {
	{0x03,0x20},
	{0x70,0x52},
	ENDMARKER,
};

static struct regval_list module_exp_comp_pos3_regs[] = {
	{0x03,0x20},
	{0x70,0x5a},
	ENDMARKER,
};

static struct regval_list module_exp_comp_pos4_regs[] = {
	{0x03,0x20},
	{0x70,0x62},
	ENDMARKER,
};


static struct v4l2_ctl_cmd_info v4l2_ctl_array[] =
{
	{
        .id = V4L2_CID_AUTO_WHITE_BALANCE,
        .min = 0,
        .max = 1,
        .step = 1,
        .def = 1,
    },
    {	.id = V4L2_CID_EXPOSURE_COMP, 
		.min = -4, 
		.max = 4, 
		.step = 1, 
		.def = 0,
	},	
	{	.id = V4L2_CID_GAIN, 
		.min = 10, 
		.max = 2048, 
		.step = 1, 
		.def = 30,
	},
    {
        .id = V4L2_CID_WHITE_BALANCE_TEMPERATURE,
        .min = 0,
        .max = 3,
        .step = 1,
        .def = 0,
    },
    {	.id   = V4L2_CID_FLASH_STROBE, 
		.min  = 0, 
		.max  = 1, 
		.step = 1, 
		.def  = 0,
	},
	
	{	.id   = V4L2_CID_FLASH_STROBE_STOP, 
		.min  = 0, 
		.max  = 1, 
		.step = 1, 
		.def  = 0,
	},

    {
        .id = V4L2_CID_HFLIP,
        .min = 0,
        .max = 1,
        .step = 1,
        .def = 0,
    },
    {
        .id = V4L2_CID_VFLIP,
        .min = 0,
        .max = 1,
        .step = 1,
        .def = 0,
    },
     {	.id = V4L2_CID_AF_MODE,
		.min = NONE_AF, 
		.max = CONTINUE_AF|SINGLE_AF, 
		.step = 1, 
		.def = NONE_AF,},
    {	.id = V4L2_CID_AF_STATUS, 
		.min = AF_STATUS_DISABLE, 
		.max = AF_STATUS_FAIL, 
		.step = 1, 
		.def = AF_STATUS_DISABLE,},
	{	.id = V4L2_CID_MIRRORFLIP, //3.10内核没有定义此命令字,同时写入vflip和hflip
		.min = NONE, 
		.max = HFLIP|VFLIP, 
		.step = 1, 
		.def = NONE,},
};

static struct v4l2_ctl_cmd_info_menu v4l2_ctl_array_menu[] =
{
	 {
        .id = V4L2_CID_COLORFX,
        .max = 3,
        .mask = 0x0,
        .def = 0,
    },
    {
        .id = V4L2_CID_EXPOSURE_AUTO,
        .max = 1,
        .mask = 0x0,
        .def = 1,
    },
  	{  
	   .id = V4L2_CID_SCENE_MODE, 
	   .max = V4L2_SCENE_MODE_TEXT, 
	   .mask = 0x0, 
	   .def = 0,
	},
    {	.id = V4L2_CID_FLASH_LED_MODE, 
		.max = 3,
		.mask = 0x0,
		.def = 0,},
   {
	.id = V4L2_CID_POWER_LINE_FREQUENCY, 
	.max = V4L2_CID_POWER_LINE_FREQUENCY_AUTO, 
	.mask = 0x0,
	.def = V4L2_CID_POWER_LINE_FREQUENCY_AUTO,},
};


#endif /* __MODULE_DIFF_H__ */
